# 36. Valid Sudoku

链接：https://leetcode.com/problems/valid-sudoku/

题目：

Determine if a 9x9 Sudoku board is valid. Only the filled cells need to be validated **according to the following rules**:

1. Each row must contain the digits `1-9` without repetition.
2. Each column must contain the digits `1-9` without repetition.
3. Each of the 9 `3x3` sub-boxes of the grid must contain the digits `1-9` without repetition.

![img](https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png)
A partially filled sudoku which is valid.

The Sudoku board could be partially filled, where empty cells are filled with the character `'.'`.

**Example 1:**

```
Input:
[
  ["5","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
Output: true
```

**Example 2:**

```
Input:
[
  ["8","3",".",".","7",".",".",".","."],
  ["6",".",".","1","9","5",".",".","."],
  [".","9","8",".",".",".",".","6","."],
  ["8",".",".",".","6",".",".",".","3"],
  ["4",".",".","8",".","3",".",".","1"],
  ["7",".",".",".","2",".",".",".","6"],
  [".","6",".",".",".",".","2","8","."],
  [".",".",".","4","1","9",".",".","5"],
  [".",".",".",".","8",".",".","7","9"]
]
Output: false
Explanation: Same as Example 1, except with the 5 in the top left corner being 
    modified to 8. Since there are two 8's in the top left 3x3 sub-box, it is invalid.
```

**Note:**

- A Sudoku board (partially filled) could be valid but is not necessarily solvable.
- Only the filled cells need to be validated according to the mentioned rules.
- The given board contain only digits `1-9` and the character `'.'`.
- The given board size is always `9x9`.

## 解析

判断一个给定的棋盘是否满足数独的规则，只需要判断当前的棋盘即可。

数独的规则如下：

* 棋盘为`9x9`
* 每一个方格、每一列、每一行数字`1-9`只能出现一次

常规的判断是遍历每一个位置，并在每个位置上去判断所处行、列、方格是否有重复的数字。但是这样的时间复杂度过大，为了不做重复工作，我们用一个状态集合来记录遍历过的位置。

遍历过的每一行每一列每一方格都用一个元祖，具体如下

* `(100,i,board[i][j])`中，`100`表示行，`i`表示判断的是第几行，`board[i][j]`表示当前判断的是数字几
* `(101,i,board[i][j])`中，`101`表示列，`j`表示判断的是第几列，`board[i][j]`表示当前判断的是数字几
* `(101,i//3,j//3,board[i][j])`中，`102`表示方格，`i//3,j//3`表示判断的是方格的坐标，`board[i][j]`表示当前判断的是数字几

每次用这样的元祖去记录遍历的数字，空间换时间，每次判断当前位置是否合理直接判断是否存在相同的元祖即可。

```Python
class Solution(object):        
    def isValidSudoku(self, board):
        """
        :type board: List[List[str]]
        :rtype: bool
        """
        status = set()
        for i in range(9):
            for j in range(9):
                if board[i][j]!='.':
                    if (100, i, board[i][j]) not in status and (101, j, board[i][j]) not in status and (102, i//3, j//3, board[i][j]) not in status:
                        status.add((100, i, board[i][j]))
                        status.add((101, j, board[i][j]))
                        status.add((102, i//3, j//3, board[i][j]))
                    else:
                        return False
        return True
```

